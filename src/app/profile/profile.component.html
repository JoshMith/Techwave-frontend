<!-- profile.component.html -->
<header class="header">
    <nav class="nav-container">
        <div class="nav-items">
            <a href="#" class="nav-link">Home</a>
            <a href="/shop" class="nav-link">Shop</a>
            <div class="dropdown">
                <a class="nav-link dropdown-trigger">
                    Categories
                    <svg class="dropdown-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </a>
                <div class="dropdown-menu">
                    <a href="/phones" class="dropdown-link" (click)="onCategoryClick('phones')">
                        <svg class="dropdown-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <rect x="5" y="2" width="14" height="20" rx="2" ry="2" stroke="currentColor"
                                stroke-width="2" />
                            <line x1="12" y1="18" x2="12.01" y2="18" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        Phones
                    </a>
                    <a href="/laptops" class="dropdown-link" (click)="onCategoryClick('laptops')">
                        <svg class="dropdown-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <rect x="2" y="4" width="20" height="12" rx="2" ry="2" stroke="currentColor"
                                stroke-width="2" />
                            <line x1="2" y1="20" x2="22" y2="20" stroke="currentColor" stroke-width="2" />
                        </svg>
                        Laptops
                    </a>
                    <a href="/accessories" class="dropdown-link" (click)="onCategoryClick('accessories')">
                        <svg class="dropdown-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M3 18V15C3 13.3431 4.34315 12 6 12C7.65686 12 9 13.3431 9 15V18"
                                stroke="currentColor" stroke-width="2" />
                            <path d="M21 18V15C21 13.3431 19.6569 12 18 12C16.3431 12 15 13.3431 15 15V18"
                                stroke="currentColor" stroke-width="2" />
                            <path
                                d="M9 9C9 6.79086 10.7909 5 13 5H11C8.79086 5 7 6.79086 7 9V12H15V9C15 6.79086 16.2091 5 18.5 5H16.5C14.2909 5 12.5 6.79086 12.5 9"
                                stroke="currentColor" stroke-width="2" />
                        </svg>
                        Accessories
                    </a>
                    <a href="/home-appliances" class="dropdown-link" (click)="onCategoryClick('appliances')">
                        <svg class="dropdown-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2" stroke="currentColor"
                                stroke-width="2" />
                            <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" />
                            <path d="M12 1V3" stroke="currentColor" stroke-width="2" />
                            <path d="M21 12H23" stroke="currentColor" stroke-width="2" />
                            <path d="M12 21V23" stroke="currentColor" stroke-width="2" />
                            <path d="M1 12H3" stroke="currentColor" stroke-width="2" />
                        </svg>
                        Home Appliances
                    </a>
                    <a href="/gaming" class="dropdown-link" (click)="onCategoryClick('gaming')">
                        <svg class="dropdown-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <rect x="2" y="6" width="20" height="12" rx="4" ry="4" stroke="currentColor"
                                stroke-width="2" />
                            <circle cx="8" cy="12" r="2" stroke="currentColor" stroke-width="2" />
                            <path d="M16 10L18 12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                        Gaming
                    </a>
                    <a href="/audio-sound" class="dropdown-link" (click)="onCategoryClick('audio')">
                        <svg class="dropdown-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" stroke="currentColor"
                                stroke-width="2" />
                            <path
                                d="M19.07 4.93C20.98 6.84 20.98 10.16 19.07 12.07M15.54 8.46C16.17 9.09 16.17 10.09 15.54 10.72"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        Audio & Sound
                    </a>
                </div>
            </div>
            <a href="/deals" class="nav-link">Deals</a>
            <a href="/profile" class="nav-link">Profile</a>
        </div>
        <div class="cart-icon-container">
            <button class="cart-icon" aria-label="Cart" (click)="goToCart()" title="Cart">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M6 2L3 6V20C3 20.5304 3.21071 21.0391 3.58579 21.4142C3.96086 21.7893 4.46957 22 5 22H19C19.5304 22 20.0391 21.7893 20.4142 21.4142C20.7893 21.0391 21 20.5304 21 20V6L18 2H6Z"
                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M3 6H21" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <path
                        d="M16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10"
                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                <span class="cart-count" *ngIf="cartCount > 0">{{ cartCount }}</span>
            </button>
        </div>
        <div class="search-bar-container">
            <input type="text" class="search-input" placeholder="Search products, brands, or categories..." />
            <button class="search-btn" aria-label="Search" (click)="onSearch()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M21 21L16.514 16.506L21 21ZM19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z"
                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </button>
        </div>
    </nav>
</header>

<main class="profile-container">
    <div class="welcome-banner">
        <div class="container">
            <h1>Welcome, {{ user.name }}</h1>
            <p>Your account is {{ user.status }}</p>
        </div>
    </div>

    <div class="container profile-content">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="profile-card">
                <div class="avatar">JD</div>
                <h3>{{ user.name }}</h3>
                <p>{{ user.email }}</p>
                <p class="joined">Member since {{ user.joined }}</p>
            </div>

            <nav class="profile-nav">
                <a routerLink="/profile/orders" class="nav-item active">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15"
                            stroke="currentColor" stroke-width="2" />
                        <path d="M12 12H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        <path d="M12 16H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        <path d="M9 5C9 3.34315 10.3431 2 12 2C13.6569 2 15 3.34315 15 5" stroke="currentColor"
                            stroke-width="2" />
                        <circle cx="9" cy="12" r="1" fill="currentColor" />
                        <circle cx="9" cy="16" r="1" fill="currentColor" />
                    </svg>
                    Orders
                </a>
                <a routerLink="/profile/wishlist" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M19.5 12.572L12 20L4.5 12.572C3.39853 11.4762 2.77278 9.97782 2.76161 8.41289C2.75044 6.84796 3.35483 5.34115 4.43976 4.23122C5.5247 3.12129 7.00968 2.5 8.57143 2.5C10.1332 2.5 11.6182 3.12129 12.7031 4.23122L12 5L13.2969 4.23122C14.3818 3.12129 15.8668 2.5 17.4286 2.5C18.9903 2.5 20.4753 3.12129 21.5602 4.23122C22.6452 5.34115 23.2496 6.84796 23.2384 8.41289C23.2272 9.97782 22.6015 11.4762 21.5 12.572H19.5Z"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                    Wishlist
                </a>
                <a routerLink="/profile/contact" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z"
                            stroke="currentColor" stroke-width="2" />
                        <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2" />
                    </svg>
                    Addresses
                </a>
                <a routerLink="/profile/payment" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="2" y="5" width="20" height="14" rx="2" stroke="currentColor" stroke-width="2" />
                        <path d="M2 10H22" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        <path d="M6 15H7" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                    </svg>
                    Payment Methods
                </a>
                <a routerLink="/profile/settings" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z"
                            stroke="currentColor" stroke-width="2" />
                        <path
                            d="M19.4 15C19.2 15.7 18.8 16.4 18.3 16.9L20 19C20.6 19.6 20.6 20.5 20 21C19.4 21.5 18.5 21.5 18 21L16.2 19.3C15.7 19.8 15 20.2 14.3 20.4C13.9 20.5 13.5 20.6 13 20.6C12.5 20.6 12.1 20.5 11.7 20.4C10.9 20.2 10.2 19.8 9.7 19.3L8 21C7.4 21.5 6.5 21.5 6 21C5.5 20.4 5.5 19.5 6 19L7.7 16.9C7.2 16.4 6.8 15.7 6.6 15C6.5 14.6 6.4 14.2 6.4 13.7C6.4 13.2 6.5 12.8 6.6 12.4C6.8 11.7 7.2 11 7.7 10.5L6 8C5.5 7.4 5.5 6.5 6 6C6.5 5.5 7.4 5.5 8 6L9.7 8.1C10.2 7.6 10.9 7.2 11.6 7C12 6.9 12.4 6.8 12.9 6.8C13.4 6.8 13.8 6.9 14.2 7C14.9 7.2 15.6 7.6 16.1 8.1L17.9 6C18.5 5.5 19.4 5.5 19.9 6C20.4 6.6 20.4 7.5 19.9 8L18.2 10.1C18.7 10.6 19.1 11.3 19.3 12C19.4 12.4 19.5 12.8 19.5 13.3C19.5 13.8 19.4 14.2 19.3 14.6H19.4Z"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                    Settings
                </a>
                <a routerLink="/logout" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M16 17L21 12L16 7" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path d="M21 12H9" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                    Logout
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <div class="dashboard">
            <!-- Account Stats -->
            <div class="stats-section">
                <div class="stat-card">
                    <div class="stat-value">{{ stats.orders }}</div>
                    <div class="stat-label">Active Orders</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">{{ stats.wishlist }}</div>
                    <div class="stat-label">Wishlist Items</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">{{ stats.points }}</div>
                    <div class="stat-label">Reward Points</div>
                </div>
            </div>

            <!-- Recent Orders -->
            <section class="recent-orders">
                <h2>Recent Orders</h2>
                <div class="orders-list">
                    <div *ngFor="let order of orders" class="order-item">
                        <div class="order-info">
                            <h3>Order {{ order.id }}</h3>
                            <div class="order-status" [class.in-progress]="order.status === 'In Progress'">
                                {{ order.status }}
                            </div>
                        </div>
                        <div class="order-date">{{ order.date }}</div>
                        <div class="order-details">
                            <span>{{ order.items }} item{{ order.items > 1 ? 's' : '' }}</span>
                            <span class="order-total">{{ order.total }}</span>
                        </div>
                        <button class="view-details">View Details</button>
                    </div>
                </div>
            </section>

            <!-- Recommended Products -->
            <section class="recommended-products">
                <h2>Recommended Products</h2>
                <div class="products-grid">
                    <div *ngFor="let product of recommendedProducts" class="product-card">
                        <div class="product-image">
                            <div class="placeholder">{{ product.name.charAt(0) }}</div>
                        </div>
                        <div class="product-info">
                            <h3>{{ product.name }}</h3>
                            <p class="category">{{ product.category }}</p>
                            <p class="price">{{ product.price }}</p>
                            <p class="discount">{{ product.discount }}</p>
                        </div>
                        <button class="add-to-cart">Add to Cart</button>
                    </div>
                </div>
            </section>
        </div>
    </div>
</main>

<footer class="footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-section">
                <h3>TechWave Kenya</h3>
                <p>Your trusted electronics partner in Nairobi and Meru</p>
                <div class="contact-info">
                    <p>Email: info&#64;techwave.co.ke</p>
                    <p>Phone: +254 700 123 456</p>
                </div>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a routerLink="/">Home</a></li>
                    <li><a routerLink="/shop">Shop</a></li>
                    <li><a routerLink="/deals">Deals</a></li>
                    <li><a routerLink="/contact">Contact Us</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Payment Methods</h4>
                <div class="payment-methods">
                    <div class="payment-method">M-PESA</div>
                    <div class="payment-method">VISA</div>
                    <div class="payment-method">MasterCard</div>
                </div>
            </div>
        </div>
        <div class="copyright">
            &copy; 2025 TechWave Kenya. All rights reserved.
        </div>
    </div>
</footer>